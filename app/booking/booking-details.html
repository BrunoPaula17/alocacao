<ava-hdr-app [pageName]="'Alocação'" [icon]="'fa-calendar-check-o'"></ava-hdr-app>

<form name="bookingForm" *ngIf="booking">
    <div class="form-group col-md-6" [ngSwitch]='action'>
        <label for="projects">Projeto</label>
        <select *ngSwitchCase="'details'" [(ngModel)]="booking.projectID" class="form-control" name="project" disabled>
                <option value="{{ booking.project.projectId }}">{{ booking.project.projectName }}</option>
        </select>
        <select *ngSwitchDefault [(ngModel)]="booking.projectID" class="form-control" name="projects" required>
                <option *ngFor='let project of projects' value="{{ project.projectId }}">{{ project.projectName }}</option>
        </select>
    </div>
    <div class="form-group col-md-6" [ngSwitch]='action'>
        <label for="professional">Profissional</label>
        <select *ngSwitchCase="'details'" [(ngModel)]="booking.pid" class="form-control" name="professional" disabled>
            <option value="{{ booking.professional.pid }}">{{ booking.professional.name }}</option>
        </select>
        <select *ngSwitchDefault [(ngModel)]="booking.pid" class="form-control" name="professional" required>
                <option *ngFor='let professional of professionals' value="{{ professional.pid }}">{{ professional.name }}</option>
        </select>
    </div>
    <div class="form-group col-md-6">
        <label for="initialDate">Data Início</label>
        <input id="initialDate" [ngModel]="booking.initialDate | date:'dd/MM/yyyy'" name="initialDate" placeholder="Informe a data início de alocação no projeto"
            required [disabled]="action === 'details' ? true : false" class="form-control">
    </div>
    <div class="form-group col-md-6">
        <label for="endDate">Data Fim</label>
        <input id="endDate" [ngModel]="booking.endDate | date:'dd/MM/yyyy'" name="endDate" placeholder="Informe a data fim de alocação no projeto"
            required [disabled]="action === 'details' ? true : false" class="form-control">
    </div>
    <div class="form-group col-md-6">
        <label for="bookingPercentual">Percentual Alocação</label>
        <input id="bookingPercentual" [ngModel]="booking.bookingPercentual | percentual" type="text" name="bookingPercentual" placeholder="Informe o percentual de alocação do profissional"
            required [disabled]="action === 'details' ? true : false" class="form-control">
    </div>
    <div class="form-group">
        <div class="col-sm-10">
            <button *ngIf="action === 'details'" type="button" class="btn btn-primary btn-outline" (click)="edit()">Alterar</button>
            <button *ngIf="action === 'edit'" type="button" class="btn btn-primary btn-outline" (click)="save()">Salvar</button>
            <button *ngIf="action === 'create'" type="button" class="btn btn-primary btn-outline" (click)="save()">Salvar</button>
            <button *ngIf="action === 'details'" type="button" class="btn btn-default" (click)="delete()">Excluir</button>
            <button type="button" class="btn btn-default" (click)="goBack()">Voltar</button>
        </div>
    </div>
</form>