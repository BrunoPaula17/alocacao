<ava-hdr-app [pageName]="'Alocação'"></ava-hdr-app>
<div class="page-content">
    <table class="table table-bordered table-striped table-hover table-responsive">
        <thead>
            <tr>
                <th>Projeto</th>
                <th>Profissional</th>
                <th>Data de Início</th>
                <th>Data Fim</th>
                <th>Percentual de Alocação</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let booking of bookings" (click)="getDetails(booking)">
                <td>{{ booking.project.name }}</td>
                <td>{{ booking.professional.name }}</td>
                <td>{{ booking.initialDate | date:'dd/MM/yyyy' }}</td>
                <td>{{ booking.endDate | date:'dd/MM/yyyy' }}</td>
                <td>{{ booking.bookingPercentual | percentual }}</td>
            </tr>
        </tbody>
    </table>
    <form name="bookingForm" *ngIf="currentBooking">
        <div class="form-group col-md-6">
            <label for="projects">Projeto</label>
            <select class="form-control" required>
                <option *ngFor='let project of projects'
                  [attr.selected]="project.projectID === currentBooking.projectID ? true : null">{{ project.name }}</option>
            </select>
        </div>
        <div class="form-group col-md-6">
            <label for="professionals">Profissional</label>
            <select class="form-control" required>
                <option *ngFor='let professional of professionals' 
                 [attr.selected]='professional.pid === currentBooking.pid ? true : null'>{{ professional.name }}</option>
            </select>
        </div>
        <div class="form-group col-md-6">
            <label for="initialDate">Data Início</label>
            <input id="initialDate" 
                   value="{{ currentBooking.initialDate | date:'dd/MM/yyyy' }}"
                   name="initialDate" 
                   placeholder="Informe a data início de alocação no projeto" 
                   class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label for="endDate">Data Fim</label>
            <input id="endDate" 
                   value="{{ currentBooking.endDate | date:'dd/MM/yyyy' }}"
                   name="endDate" 
                   placeholder="Informe a data fim de alocação no projeto" 
                   class="form-control">
        </div>
        <div class="form-group col-md-6">
            <label for="bookingPercentual">Percentual Alocação</label>
            <input id="bookingPercentual" 
                   value="{{ currentBooking.bookingPercentual | percentual }}"
                   type="text" 
                   name="bookingPercentual" 
                   placeholder="Informe o percentual de alocação do profissional" 
                   class="form-control">
        </div>
    </form>
</div>